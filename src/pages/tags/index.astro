---
import BaseLayout from "@layouts/base-layout.astro";

const title = "Tags";

const allPosts = await Astro.glob("../posts/**/*.md");
const posts = allPosts
    .filter((post) => !post.frontmatter.draft)
    .sort(
        (a, b) =>
            new Date(b.frontmatter.date).getTime() -
            new Date(a.frontmatter.date).getTime()
    );
const tags = [...new Set(posts.map((post) => post.frontmatter.tags).flat())];
---

<BaseLayout title={title}>
    <h1>{title}</h1>
    <div>
        {tags.map((tag) => <a href={"/tags/" + tag}>{tag}</a>)}
    </div>
</BaseLayout>
<style>
    div {
        display: flex;
        flex-wrap: wrap;
    }

    a {
        text-decoration: none;
        background: var(--color-bg-secondary);
        text-align: center;
        min-width: 4em;
        margin: 0.5em;
        padding: 1em;
        border-radius: var(--border-big);
        color: var(--color-text);
        font-weight: bold;
    }

    a:hover {
        color: var(--orange);
    }
</style>
